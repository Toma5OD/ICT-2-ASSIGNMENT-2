{"ast":null,"code":"var _jsxFileName = \"/Users/tomasodalaigh/Desktop/GitHub/ICT-2-ASSIGNMENT-2/src/pages/topRatedMoviesPage.js\",\n    _this = this;\n\nimport React from \"react\";\nimport PageTemplate from '../components/templateMovieListPage';\nimport { getTopRated } from \"../api/tmdb-api\";\nimport { useQuery } from 'react-query';\nimport Spinner from '../components/spinner';\nimport RemoveFromFavourites from \"../components/cardIcons/removeFromFavourites\";\nimport WriteReview from \"../components/cardIcons/writeReview\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar TopRatedMoviesPage = function TopRatedMoviesPage(props) {\n  var _useQuery = useQuery('popular', getTopRated),\n      data = _useQuery.data,\n      error = _useQuery.error,\n      isLoading = _useQuery.isLoading,\n      isError = _useQuery.isError;\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 12\n    }, _this);\n  }\n\n  if (isError) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: error.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 12\n    }, _this);\n  }\n\n  var movies = data.results; // Redundant, but necessary to avoid app crashing.\n\n  var favorites = movies.filter(function (m) {\n    return m.favorite;\n  });\n  localStorage.setItem('favorites', JSON.stringify(favorites)); // const addToFavorites = (movieId) => true \n\n  return /*#__PURE__*/_jsxDEV(PageTemplate, {\n    title: \"Top Rated Movies\",\n    movies: movies,\n    action: function action(movie) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(RemoveFromFavourites, {\n          movie: movie\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(WriteReview, {\n          movie: movie\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, _this);\n};\n\nexport default TopRatedMoviesPage;","map":{"version":3,"names":["React","PageTemplate","getTopRated","useQuery","Spinner","RemoveFromFavourites","WriteReview","TopRatedMoviesPage","props","data","error","isLoading","isError","message","movies","results","favorites","filter","m","favorite","localStorage","setItem","JSON","stringify","movie"],"sources":["/Users/tomasodalaigh/Desktop/GitHub/ICT-2-ASSIGNMENT-2/src/pages/topRatedMoviesPage.js"],"sourcesContent":["import React from \"react\";\nimport PageTemplate from '../components/templateMovieListPage'\nimport { getTopRated } from \"../api/tmdb-api\";\nimport { useQuery } from 'react-query'\nimport Spinner from '../components/spinner'\nimport RemoveFromFavourites from \"../components/cardIcons/removeFromFavourites\";\nimport WriteReview from \"../components/cardIcons/writeReview\"\n\nconst TopRatedMoviesPage = (props) => {\n  const { data, error, isLoading, isError } = useQuery('popular', getTopRated)\n\n  if (isLoading) {\n    return <Spinner />\n  }\n\n  if (isError) {\n    return <h1>{error.message}</h1>\n  }\n  const movies = data.results;\n\n  // Redundant, but necessary to avoid app crashing.\n  const favorites = movies.filter(m => m.favorite)\n  localStorage.setItem('favorites', JSON.stringify(favorites))\n  // const addToFavorites = (movieId) => true \n\n\n  return (\n    <PageTemplate\n      title='Top Rated Movies'\n      movies={movies}\n      action={(movie) => {\n        return (\n          <>\n            <RemoveFromFavourites movie={movie} />\n            <WriteReview movie={movie} />\n          </>\n        );\n      }}\n    />\n  );\n};\nexport default TopRatedMoviesPage;\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,qCAAzB;AACA,SAASC,WAAT,QAA4B,iBAA5B;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,oBAAP,MAAiC,8CAAjC;AACA,OAAOC,WAAP,MAAwB,qCAAxB;;;;AAEA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,KAAD,EAAW;EACpC,gBAA4CL,QAAQ,CAAC,SAAD,EAAYD,WAAZ,CAApD;EAAA,IAAQO,IAAR,aAAQA,IAAR;EAAA,IAAcC,KAAd,aAAcA,KAAd;EAAA,IAAqBC,SAArB,aAAqBA,SAArB;EAAA,IAAgCC,OAAhC,aAAgCA,OAAhC;;EAEA,IAAID,SAAJ,EAAe;IACb,oBAAO,QAAC,OAAD;MAAA;MAAA;MAAA;IAAA,SAAP;EACD;;EAED,IAAIC,OAAJ,EAAa;IACX,oBAAO;MAAA,UAAKF,KAAK,CAACG;IAAX;MAAA;MAAA;MAAA;IAAA,SAAP;EACD;;EACD,IAAMC,MAAM,GAAGL,IAAI,CAACM,OAApB,CAVoC,CAYpC;;EACA,IAAMC,SAAS,GAAGF,MAAM,CAACG,MAAP,CAAc,UAAAC,CAAC;IAAA,OAAIA,CAAC,CAACC,QAAN;EAAA,CAAf,CAAlB;EACAC,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAeP,SAAf,CAAlC,EAdoC,CAepC;;EAGA,oBACE,QAAC,YAAD;IACE,KAAK,EAAC,kBADR;IAEE,MAAM,EAAEF,MAFV;IAGE,MAAM,EAAE,gBAACU,KAAD,EAAW;MACjB,oBACE;QAAA,wBACE,QAAC,oBAAD;UAAsB,KAAK,EAAEA;QAA7B;UAAA;UAAA;UAAA;QAAA,SADF,eAEE,QAAC,WAAD;UAAa,KAAK,EAAEA;QAApB;UAAA;UAAA;UAAA;QAAA,SAFF;MAAA,gBADF;IAMD;EAVH;IAAA;IAAA;IAAA;EAAA,SADF;AAcD,CAhCD;;AAiCA,eAAejB,kBAAf"},"metadata":{},"sourceType":"module"}